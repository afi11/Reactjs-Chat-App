{"ast":null,"code":"const setToken = (token, iduser, expired, expired_month) => {\n  localStorage.setItem(\"token\", token);\n  localStorage.setItem(\"user_id\", iduser);\n  localStorage.setItem(\"expired\", expired);\n  localStorage.setItem(\"month_expired\", expired_month);\n};\n\nconst getTokenAndUserId = () => {\n  const now = new Date();\n  let token = localStorage.getItem(\"token\");\n  let userid = localStorage.getItem(\"user_id\");\n  let expired = localStorage.getItem(\"expired\");\n  let month_expired = localStorage.getItem(\"month_expired\");\n  let data = {\n    token: token,\n    userid: userid\n  };\n\n  if (!token || !userid || !expired || !month_expired) {\n    return null;\n  }\n\n  if (now.getMonth() <= parseInt(month_expired)) {\n    if (now.getDate() >= parseInt(expired)) {\n      destroyToken();\n    } else {\n      return data;\n    }\n  } else {\n    destroyToken();\n  }\n};\n\nconst destroyToken = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expired\");\n};\n\nconst isAuthenticated = () => {\n  if (getTokenAndUserId()) return true;else return false;\n};\n\nconst Auth = {\n  setToken,\n  getTokenAndUserId,\n  destroyToken,\n  isAuthenticated\n};\nexport default Auth;","map":{"version":3,"sources":["D:/CODE/code/ReactJS/chatapp/src/config/auth/index.js"],"names":["setToken","token","iduser","expired","expired_month","localStorage","setItem","getTokenAndUserId","now","Date","getItem","userid","month_expired","data","getMonth","parseInt","getDate","destroyToken","removeItem","isAuthenticated","Auth"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,CAACC,KAAD,EAAQC,MAAR,EAAgBC,OAAhB,EAAyBC,aAAzB,KAA2C;AAC1DC,EAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAA9B;AACAI,EAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCJ,MAAhC;AACAG,EAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCH,OAAhC;AACAE,EAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,EAAsCF,aAAtC;AACD,CALD;;AAOA,MAAMG,iBAAiB,GAAG,MAAM;AAC9B,QAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;AACA,MAAIR,KAAK,GAAGI,YAAY,CAACK,OAAb,CAAqB,OAArB,CAAZ;AACA,MAAIC,MAAM,GAAGN,YAAY,CAACK,OAAb,CAAqB,SAArB,CAAb;AACA,MAAIP,OAAO,GAAGE,YAAY,CAACK,OAAb,CAAqB,SAArB,CAAd;AACA,MAAIE,aAAa,GAAGP,YAAY,CAACK,OAAb,CAAqB,eAArB,CAApB;AACA,MAAIG,IAAI,GAAG;AACTZ,IAAAA,KAAK,EAAEA,KADE;AAETU,IAAAA,MAAM,EAAEA;AAFC,GAAX;;AAIA,MAAI,CAACV,KAAD,IAAU,CAACU,MAAX,IAAqB,CAACR,OAAtB,IAAiC,CAACS,aAAtC,EAAqD;AACnD,WAAO,IAAP;AACD;;AACD,MAAIJ,GAAG,CAACM,QAAJ,MAAkBC,QAAQ,CAACH,aAAD,CAA9B,EAA+C;AAC7C,QAAIJ,GAAG,CAACQ,OAAJ,MAAiBD,QAAQ,CAACZ,OAAD,CAA7B,EAAwC;AACtCc,MAAAA,YAAY;AACb,KAFD,MAEO;AACL,aAAOJ,IAAP;AACD;AACF,GAND,MAMK;AACHI,IAAAA,YAAY;AACb;AACF,CAtBD;;AAwBA,MAAMA,YAAY,GAAG,MAAM;AACzBZ,EAAAA,YAAY,CAACa,UAAb,CAAwB,OAAxB;AACAb,EAAAA,YAAY,CAACa,UAAb,CAAwB,SAAxB;AACD,CAHD;;AAKA,MAAMC,eAAe,GAAG,MAAM;AAC5B,MAAIZ,iBAAiB,EAArB,EAAyB,OAAO,IAAP,CAAzB,KACK,OAAO,KAAP;AACN,CAHD;;AAKA,MAAMa,IAAI,GAAG;AACXpB,EAAAA,QADW;AAEXO,EAAAA,iBAFW;AAGXU,EAAAA,YAHW;AAIXE,EAAAA;AAJW,CAAb;AAOA,eAAeC,IAAf","sourcesContent":["const setToken = (token, iduser, expired, expired_month) => {\r\n  localStorage.setItem(\"token\", token);\r\n  localStorage.setItem(\"user_id\", iduser);\r\n  localStorage.setItem(\"expired\", expired);\r\n  localStorage.setItem(\"month_expired\", expired_month);\r\n};\r\n\r\nconst getTokenAndUserId = () => {\r\n  const now = new Date();\r\n  let token = localStorage.getItem(\"token\");\r\n  let userid = localStorage.getItem(\"user_id\");\r\n  let expired = localStorage.getItem(\"expired\");\r\n  let month_expired = localStorage.getItem(\"month_expired\");\r\n  let data = {\r\n    token: token,\r\n    userid: userid,\r\n  };\r\n  if (!token || !userid || !expired || !month_expired) {\r\n    return null;\r\n  }\r\n  if (now.getMonth() <= parseInt(month_expired)) {\r\n    if (now.getDate() >= parseInt(expired)) {\r\n      destroyToken();\r\n    } else {\r\n      return data;\r\n    }\r\n  }else{\r\n    destroyToken();\r\n  }\r\n};\r\n\r\nconst destroyToken = () => {\r\n  localStorage.removeItem(\"token\");\r\n  localStorage.removeItem(\"expired\");\r\n};\r\n\r\nconst isAuthenticated = () => {\r\n  if (getTokenAndUserId()) return true;\r\n  else return false;\r\n};\r\n\r\nconst Auth = {\r\n  setToken,\r\n  getTokenAndUserId,\r\n  destroyToken,\r\n  isAuthenticated,\r\n};\r\n\r\nexport default Auth;\r\n"]},"metadata":{},"sourceType":"module"}